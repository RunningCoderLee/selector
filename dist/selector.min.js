!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.selector=t(require("jQuery")):n.selector=t(n.jQuery)}(window,function(__WEBPACK_EXTERNAL_MODULE__3__){return function(n){var t={};function g(e){if(t[e])return t[e].exports;var I=t[e]={i:e,l:!1,exports:{}};return n[e].call(I.exports,I,I.exports,g),I.l=!0,I.exports}return g.m=n,g.c=t,g.d=function(n,t,e){g.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},g.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},g.t=function(n,t){if(1&t&&(n=g(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(g.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var I in n)g.d(e,I,function(t){return n[t]}.bind(null,I));return e},g.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return g.d(t,"a",t),t},g.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},g.p="",g(g.s=4)}([,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbGVjdG9yLy4vc3JjL3N0eWxlLnNjc3M/ODlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar TypeOf = exports.TypeOf = function TypeOf(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n};\n\nvar isSelectTag = exports.isSelectTag = function isSelectTag(element) {\n  if (element.nodeType === Node.ELEMENT_NODE) {\n    return element.tagName === 'SELECT';\n  }\n\n  return false;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbGVjdG9yL3NyYy91dGlscy5qcz9hMzA0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBUeXBlT2YgPSAob2JqKSA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlbGVjdFRhZyA9IChlbGVtZW50KSA9PiB7XG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnXG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__3__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbGVjdG9yL2V4dGVybmFsIFwialF1ZXJ5XCI/Y2QwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzNfXzsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = __webpack_require__(3);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _utils = __webpack_require__(2);\n\n__webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction createContainer() {\n  return (0, _jquery2.default)('<div class=\"selector-container\"></div>');\n}\n\nfunction createTrigger(className) {\n  var $trigger = (0, _jquery2.default)('\\n    <button type=\"button\" class=\"selector-trigger\">\\n      <span class=\"selector-trigger-title\">Nothing selected</span>\\n      <span class=\"selector-trigger-arrow\"></span>\\n    </button>\\n  ');\n  $trigger.addClass(className);\n\n  return $trigger;\n}\n\nfunction createListWrapper() {\n  return (0, _jquery2.default)('\\n    <div class=\"selector-list-wrapper\">\\n      <ul class=\"selector-list\">\\n      </ul>\\n    </div>\\n  ');\n}\n\nfunction createListItem(data, keywords) {\n  var title = void 0;\n\n  if (keywords) {\n    var start = data.title.indexOf(keywords);\n    title = '<font class=\"highlight\">' + data.title.substring(0, keywords.length) + '</font>' + data.title.substring(keywords.length);\n  } else {\n    title = data.title;\n  }\n\n  return (0, _jquery2.default)('\\n    <li class=\"selector-list-item ' + (data.disabled ? 'disabled' : undefined) + '\" data-value=' + data.value + '>\\n      ' + title + '\\n    </li>\\n  ');\n}\n\nfunction createSearchBox() {\n  return (0, _jquery2.default)('<div class=\"selector-search-box\"><input type=\"text\"></div>');\n}\n\nfunction createOption(data) {\n  var $option = (0, _jquery2.default)('<option value=' + data.value + '>' + data.title + '</option>');\n  $option.prop('disabled', data.disabled);\n\n  return $option;\n}\n\nvar Selector = function ($) {\n  var Selector = function () {\n    function Selector(element, options) {\n      _classCallCheck(this, Selector);\n\n      // 私有变量\n      var _data = [];\n      var _originalData = [];\n      var _value = undefined;\n\n      /**\n       * 设置当前所用的数据源\n       *\n       * @param {Array} data 数据源\n       * @memberof Selector\n       */\n      this.setData = function setData(data) {\n        _data = data;\n        this.$listContent = this.createListContent(data, this.$searchInput.val().trim());\n\n        var $options = data.map(function (item) {\n          return createOption(item);\n        });\n\n        this.$view.find('ul').html(this.$listContent);\n\n        // 更新源 select 元素下的所有 options\n        if ((0, _utils.isSelectTag)(this.$target[0])) {\n          this.$target.html($options);\n        }\n      };\n      /**\n       * 获取当前所用数据源\n       *\n       * @return {Array} 当前所用数据源\n       * @memberof Selector\n       */\n      this.getData = function getData() {\n        return _data;\n      };\n      /**\n       * 设置原始数据源，主要用于删除搜索关键字后还原列表内容\n       *\n       * @param {Array} data 数据源\n       * @memberof Selector\n       */\n      this.setOriginalData = function setOriginalData(data) {\n        this.setData(data);\n        _originalData = data;\n      };\n      /**\n      * 获取原始数据源\n      *\n      * @return {Array} 原始数据源\n      * @memberof Selector\n      */\n      this.getOriginalData = function getOriginalData() {\n        return _originalData;\n      };\n      /**\n       * 设置当前选中的值\n       *\n       * @param {String | Number} val 当前选中值\n       * @memberof Selector\n       */\n      this.setValue = function setValue(val) {\n        var title = void 0;\n\n        _value = val;\n\n        var selectItem = this.getData().find(function (item) {\n          return item.value === val;\n        });\n\n        if (selectItem && selectItem.title) {\n          title = selectItem.title;\n        } else {\n          title = 'Nothing selected';\n        }\n\n        this.$trigger.find('.selector-trigger-title').text(title);\n\n        // 更新源节点的值\n        this.$target.val(val);\n      };\n      /**\n       * 获取当前选中的值\n       *\n       * @return {String | Number} 当前选中值\n       * @memberof Selector\n       */\n      this.getValue = function getValue() {\n        return _value;\n      };\n\n      var baseOption = {\n        data: [],\n        initialValue: undefined,\n        width: 100,\n        height: 'auto'\n      };\n\n      this.options = $.extend({}, baseOption, options);\n      this.$target = $(element);\n    }\n\n    /**\n     * 挂载插件\n     *\n     * @static\n     * @param {Object} config 设置\n     * @returns {Selector} 实例化后的selector\n     * @memberof Selector\n     */\n\n\n    _createClass(Selector, [{\n      key: 'init',\n\n\n      /**\n       * 初始化插件\n       *\n       * @memberof Selector\n       */\n      value: function init() {\n        this.$view = this.createView();\n\n        var data = this.formatData();\n        this.setOriginalData(data);\n        // this.setData(data);\n\n        this.bindEvents();\n\n        if ((0, _utils.isSelectTag)(this.$target[0])) {\n          var firstOption = this.$target.children('option')[0];\n          firstOption && this.setValue(firstOption.value);\n        } else {\n          this.setValue(this.$target.val());\n        }\n\n        // 改变 dom 结构\n        this.$target.after(this.$view).appendTo(this.$view);\n\n        this.$target.hide();\n      }\n\n      /**\n       * 创建列表内容\n       *\n       * @param {Array} data 数据源\n       * @param {String} keywords 搜索关键字 \n       * @returns {jQuery} 列表项集合\n       * @memberof Selector\n       */\n\n    }, {\n      key: 'createListContent',\n      value: function createListContent(data, keywords) {\n        return data.map(function (item) {\n          return createListItem(item, keywords);\n        });\n      }\n\n      /**\n       * 获取原始数据源，用于清除关键字后还原所有列表项\n       *\n       * @returns {Array} 原始数据源\n       * @memberof Selector\n       */\n\n    }, {\n      key: 'formatData',\n      value: function formatData() {\n        var data = this.options.data;\n\n        // 判断 data 赋值是否有效\n\n        if (Array.isArray(data) && data.length > 0) {\n          return data;\n        }\n\n        if ((0, _utils.isSelectTag)(this.$target[0])) {\n          // 源节点是否为 select\n          var options = this.$target.children('option');\n          var result = [];\n\n          options.each(function () {\n            var obj = {\n              title: $(this).text(),\n              value: $(this).attr('value'),\n              disabled: $(this).prop('disabled')\n            };\n\n            result.push(obj);\n          });\n\n          return result;\n        }\n\n        return [];\n      }\n\n      /**\n       * 创建组件dom\n       *\n       * @returns {jQuery} 组件DOM\n       * @memberof Selector\n       */\n\n    }, {\n      key: 'createView',\n      value: function createView() {\n        var $container = createContainer();\n        $container.css({\n          width: this.options.width\n        });\n\n        var $listWrapper = createListWrapper();\n\n        var $hr = $('<hr />');\n\n        var $searchBox = createSearchBox();\n        this.$searchInput = $searchBox.find('input');\n        this.$trigger = createTrigger(this.$target.attr('class'));\n\n        $listWrapper.find('ul').css({\n          height: this.options.height\n        });\n\n        $listWrapper.find('ul').before($searchBox, $hr);\n        $listWrapper.find('ul').append(this.$listContent);\n\n        $container.append(this.$trigger, $listWrapper);\n\n        return $container;\n      }\n\n      /**\n       * 绑定事件\n       *\n       * @memberof Selector\n       */\n\n    }, {\n      key: 'bindEvents',\n      value: function bindEvents() {\n        var self = this;\n\n        // 收缩/展开 按钮\n        this.$trigger.on('click', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          self.$view.toggleClass('open');\n\n          if (self.$view.hasClass('open')) {\n            self.$searchInput.focus();\n          } else {\n            self.$searchInput.val('');\n            self.data = self.originalData;\n          }\n        });\n\n        // 空白处点击收缩列表\n        $('body').on('click', function (e) {\n          if (self.$view.hasClass('open')) {\n            self.$view.removeClass('open');\n            self.$searchInput.val('');\n            self.setData(self.getOriginalData());\n          }\n        });\n\n        // 选择项点击\n        this.$view.on('click', 'li', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if ($(this).hasClass('disabled')) {\n            return;\n          }\n\n          self.setValue($(this).data('value'));\n          self.$view.toggleClass('open');\n        });\n\n        // 输入搜索关键字\n        this.$searchInput.on('keyup', function (e) {\n          var value = $(this).val().trim();\n\n          if (!value) {\n            self.setData(self.getOriginalData());\n            return;\n          }\n\n          var newData = self.getOriginalData().filter(function (item) {\n            return item.title.startsWith(value);\n          });\n\n          self.setData(newData);\n        });\n\n        this.$searchInput.on('click', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n    }], [{\n      key: 'jQueryInterface',\n      value: function jQueryInterface(config) {\n        var _config = (0, _utils.TypeOf)(config) === 'object' ? config : {};\n        var self = this.map(function () {\n          var selector = new Selector(this, _config);\n\n          selector.init();\n\n          return selector;\n        });\n\n        return self;\n      }\n    }]);\n\n    return Selector;\n  }();\n\n  $.fn.selector = Selector.jQueryInterface;\n  return Selector;\n}(_jquery2.default);\n\nexports.default = Selector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbGVjdG9yL3NyYy9zZWxlY3Rvci5qcz82OGMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBUeXBlT2YsIGlzU2VsZWN0VGFnIH0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKCkge1xuICByZXR1cm4gJChgPGRpdiBjbGFzcz1cInNlbGVjdG9yLWNvbnRhaW5lclwiPjwvZGl2PmApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmlnZ2VyKGNsYXNzTmFtZSkge1xuICBjb25zdCAkdHJpZ2dlciA9ICQoYFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2VsZWN0b3ItdHJpZ2dlclwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJzZWxlY3Rvci10cmlnZ2VyLXRpdGxlXCI+Tm90aGluZyBzZWxlY3RlZDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwic2VsZWN0b3ItdHJpZ2dlci1hcnJvd1wiPjwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgYCk7XG4gICR0cmlnZ2VyLmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gIFxuICByZXR1cm4gJHRyaWdnZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RXcmFwcGVyKCkge1xuICByZXR1cm4gJChgXG4gICAgPGRpdiBjbGFzcz1cInNlbGVjdG9yLWxpc3Qtd3JhcHBlclwiPlxuICAgICAgPHVsIGNsYXNzPVwic2VsZWN0b3ItbGlzdFwiPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgYCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RJdGVtKGRhdGEsIGtleXdvcmRzKSB7XG4gIGxldCB0aXRsZTtcblxuICBpZiAoa2V5d29yZHMpIHtcbiAgICBjb25zdCBzdGFydCA9IGRhdGEudGl0bGUuaW5kZXhPZihrZXl3b3Jkcyk7XG4gICAgdGl0bGUgPSBgPGZvbnQgY2xhc3M9XCJoaWdobGlnaHRcIj4ke2RhdGEudGl0bGUuc3Vic3RyaW5nKDAsIGtleXdvcmRzLmxlbmd0aCl9PC9mb250PiR7ZGF0YS50aXRsZS5zdWJzdHJpbmcoa2V5d29yZHMubGVuZ3RoKX1gXG4gIH0gZWxzZSB7XG4gICAgdGl0bGUgPSBkYXRhLnRpdGxlO1xuICB9XG4gIFxuICByZXR1cm4gJChgXG4gICAgPGxpIGNsYXNzPVwic2VsZWN0b3ItbGlzdC1pdGVtICR7ZGF0YS5kaXNhYmxlZCA/ICdkaXNhYmxlZCc6IHVuZGVmaW5lZH1cIiBkYXRhLXZhbHVlPSR7ZGF0YS52YWx1ZX0+XG4gICAgICAke3RpdGxlfVxuICAgIDwvbGk+XG4gIGApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWFyY2hCb3goKSB7XG4gIHJldHVybiAkKCc8ZGl2IGNsYXNzPVwic2VsZWN0b3Itc2VhcmNoLWJveFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiPjwvZGl2PicpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPcHRpb24oZGF0YSkge1xuICBjb25zdCAkb3B0aW9uID0gJChgPG9wdGlvbiB2YWx1ZT0ke2RhdGEudmFsdWV9PiR7ZGF0YS50aXRsZX08L29wdGlvbj5gKTtcbiAgJG9wdGlvbi5wcm9wKCdkaXNhYmxlZCcsIGRhdGEuZGlzYWJsZWQpO1xuXG4gIHJldHVybiAkb3B0aW9uO1xufVxuXG5jb25zdCBTZWxlY3RvciA9ICgoJCkgPT4ge1xuICBjbGFzcyBTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgLy8g56eB5pyJ5Y+Y6YePXG4gICAgICB2YXIgX2RhdGEgPSBbXTtcbiAgICAgIHZhciBfb3JpZ2luYWxEYXRhID0gW107XG4gICAgICB2YXIgX3ZhbHVlID0gdW5kZWZpbmVkO1xuXG4gICAgICAvKipcbiAgICAgICAqIOiuvue9ruW9k+WJjeaJgOeUqOeahOaVsOaNrua6kFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEg5pWw5o2u5rqQXG4gICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgICAqL1xuICAgICAgdGhpcy5zZXREYXRhID0gZnVuY3Rpb24gc2V0RGF0YShkYXRhKSB7XG4gICAgICAgIF9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy4kbGlzdENvbnRlbnQgPSB0aGlzLmNyZWF0ZUxpc3RDb250ZW50KGRhdGEsIHRoaXMuJHNlYXJjaElucHV0LnZhbCgpLnRyaW0oKSk7XG5cbiAgICAgICAgY29uc3QgJG9wdGlvbnMgPSBkYXRhLm1hcCgoaXRlbSkgPT4gY3JlYXRlT3B0aW9uKGl0ZW0pKTtcblxuICAgICAgICB0aGlzLiR2aWV3LmZpbmQoJ3VsJykuaHRtbCh0aGlzLiRsaXN0Q29udGVudCk7XG5cbiAgICAgICAgLy8g5pu05paw5rqQIHNlbGVjdCDlhYPntKDkuIvnmoTmiYDmnIkgb3B0aW9uc1xuICAgICAgICBpZiAoaXNTZWxlY3RUYWcodGhpcy4kdGFyZ2V0WzBdKSkge1xuICAgICAgICAgIHRoaXMuJHRhcmdldC5odG1sKCRvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiDojrflj5blvZPliY3miYDnlKjmlbDmja7mupBcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtBcnJheX0g5b2T5YmN5omA55So5pWw5o2u5rqQXG4gICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgICAqL1xuICAgICAgdGhpcy5nZXREYXRhID0gZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIF9kYXRhO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiDorr7nva7ljp/lp4vmlbDmja7mupDvvIzkuLvopoHnlKjkuo7liKDpmaTmkJzntKLlhbPplK7lrZflkI7ov5jljp/liJfooajlhoXlrrlcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIOaVsOaNrua6kFxuICAgICAgICogQG1lbWJlcm9mIFNlbGVjdG9yXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc2V0T3JpZ2luYWxEYXRhID0gZnVuY3Rpb24gc2V0T3JpZ2luYWxEYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICBfb3JpZ2luYWxEYXRhID0gZGF0YTtcbiAgICAgIH1cbiAgICAgICAvKipcbiAgICAgICAqIOiOt+WPluWOn+Wni+aVsOaNrua6kFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge0FycmF5fSDljp/lp4vmlbDmja7mupBcbiAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3RvclxuICAgICAgICovXG4gICAgICB0aGlzLmdldE9yaWdpbmFsRGF0YSA9IGZ1bmN0aW9uIGdldE9yaWdpbmFsRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIF9vcmlnaW5hbERhdGE7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIOiuvue9ruW9k+WJjemAieS4reeahOWAvFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nIHwgTnVtYmVyfSB2YWwg5b2T5YmN6YCJ5Lit5YC8XG4gICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgICAqL1xuICAgICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKHZhbCkge1xuICAgICAgICBsZXQgdGl0bGU7XG5cbiAgICAgICAgX3ZhbHVlID0gdmFsO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdEl0ZW0gPSB0aGlzLmdldERhdGEoKS5maW5kKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZWN0SXRlbSAmJiBzZWxlY3RJdGVtLnRpdGxlKSB7XG4gICAgICAgICAgdGl0bGUgPSBzZWxlY3RJdGVtLnRpdGxlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGl0bGUgPSAnTm90aGluZyBzZWxlY3RlZCdcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJHRyaWdnZXIuZmluZCgnLnNlbGVjdG9yLXRyaWdnZXItdGl0bGUnKS50ZXh0KHRpdGxlKTtcblxuICAgICAgICAvLyDmm7TmlrDmupDoioLngrnnmoTlgLxcbiAgICAgICAgdGhpcy4kdGFyZ2V0LnZhbCh2YWwpO1xuICAgICAgICBcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICog6I635Y+W5b2T5YmN6YCJ5Lit55qE5YC8XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7U3RyaW5nIHwgTnVtYmVyfSDlvZPliY3pgInkuK3lgLxcbiAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3RvclxuICAgICAgICovXG4gICAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGJhc2VPcHRpb24gPSB7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBpbml0aWFsVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgYmFzZU9wdGlvbiwgb3B0aW9ucyk7XG4gICAgICB0aGlzLiR0YXJnZXQgPSAkKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaMgui9veaPkuS7tlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcg6K6+572uXG4gICAgICogQHJldHVybnMge1NlbGVjdG9yfSDlrp7kvovljJblkI7nmoRzZWxlY3RvclxuICAgICAqIEBtZW1iZXJvZiBTZWxlY3RvclxuICAgICAqL1xuICAgIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICBjb25zdCBfY29uZmlnID0gVHlwZU9mKGNvbmZpZykgPT09ICdvYmplY3QnID8gY29uZmlnIDoge307XG4gICAgICBjb25zdCBzZWxmID0gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKHRoaXMsIF9jb25maWcpO1xuXG4gICAgICAgIHNlbGVjdG9yLmluaXQoKTtcblxuICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIOWIneWni+WMluaPkuS7tlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFNlbGVjdG9yXG4gICAgICovXG4gICAgaW5pdCgpIHsgICAgICBcbiAgICAgIHRoaXMuJHZpZXcgPSB0aGlzLmNyZWF0ZVZpZXcoKTtcblxuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZm9ybWF0RGF0YSgpO1xuICAgICAgdGhpcy5zZXRPcmlnaW5hbERhdGEoZGF0YSk7XG4gICAgICAvLyB0aGlzLnNldERhdGEoZGF0YSk7XG5cbiAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuXG4gICAgICBpZiAoaXNTZWxlY3RUYWcodGhpcy4kdGFyZ2V0WzBdKSkge1xuICAgICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IHRoaXMuJHRhcmdldC5jaGlsZHJlbignb3B0aW9uJylbMF07XG4gICAgICAgIGZpcnN0T3B0aW9uICYmIHRoaXMuc2V0VmFsdWUoZmlyc3RPcHRpb24udmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLiR0YXJnZXQudmFsKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyDmlLnlj5ggZG9tIOe7k+aehFxuICAgICAgdGhpcy4kdGFyZ2V0LmFmdGVyKHRoaXMuJHZpZXcpLmFwcGVuZFRvKHRoaXMuJHZpZXcpO1xuXG4gICAgICB0aGlzLiR0YXJnZXQuaGlkZSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog5Yib5bu65YiX6KGo5YaF5a65XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIOaVsOaNrua6kFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkcyDmkJzntKLlhbPplK7lrZcgXG4gICAgICogQHJldHVybnMge2pRdWVyeX0g5YiX6KGo6aG56ZuG5ZCIXG4gICAgICogQG1lbWJlcm9mIFNlbGVjdG9yXG4gICAgICovXG4gICAgY3JlYXRlTGlzdENvbnRlbnQoZGF0YSwga2V5d29yZHMpIHtcbiAgICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBjcmVhdGVMaXN0SXRlbShpdGVtLCBrZXl3b3Jkcyl9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIOiOt+WPluWOn+Wni+aVsOaNrua6kO+8jOeUqOS6jua4hemZpOWFs+mUruWtl+WQjui/mOWOn+aJgOacieWIl+ihqOmhuVxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fSDljp/lp4vmlbDmja7mupBcbiAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgKi9cbiAgICBmb3JtYXREYXRhKCkge1xuICAgICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICBcbiAgICAgIC8vIOWIpOaWrSBkYXRhIOi1i+WAvOaYr+WQpuacieaViFxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSBcbiAgICAgIFxuICAgICAgaWYgKGlzU2VsZWN0VGFnKHRoaXMuJHRhcmdldFswXSkpIHsgLy8g5rqQ6IqC54K55piv5ZCm5Li6IHNlbGVjdFxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy4kdGFyZ2V0LmNoaWxkcmVuKCdvcHRpb24nKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgb3B0aW9ucy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAkKHRoaXMpLnRleHQoKSxcbiAgICAgICAgICAgIHZhbHVlOiAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyksXG4gICAgICAgICAgICBkaXNhYmxlZDogJCh0aGlzKS5wcm9wKCdkaXNhYmxlZCcpLFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdC5wdXNoKG9iaik7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBcblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog5Yib5bu657uE5Lu2ZG9tXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fSDnu4Tku7ZET01cbiAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgKi9cbiAgICBjcmVhdGVWaWV3KCkge1xuICAgICAgY29uc3QgJGNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgJGNvbnRhaW5lci5jc3Moe1xuICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLndpZHRoLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0ICRsaXN0V3JhcHBlciA9IGNyZWF0ZUxpc3RXcmFwcGVyKCk7XG5cbiAgICAgIGNvbnN0ICRociA9ICQoJzxociAvPicpO1xuXG4gICAgICBcbiAgICAgIGNvbnN0ICRzZWFyY2hCb3ggPSBjcmVhdGVTZWFyY2hCb3goKTtcbiAgICAgIHRoaXMuJHNlYXJjaElucHV0ID0gJHNlYXJjaEJveC5maW5kKCdpbnB1dCcpO1xuICAgICAgdGhpcy4kdHJpZ2dlciA9IGNyZWF0ZVRyaWdnZXIodGhpcy4kdGFyZ2V0LmF0dHIoJ2NsYXNzJykpO1xuICAgICAgXG4gICAgICAkbGlzdFdyYXBwZXIuZmluZCgndWwnKS5jc3Moe1xuICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5oZWlnaHRcbiAgICAgIH0pXG5cbiAgICAgICRsaXN0V3JhcHBlci5maW5kKCd1bCcpLmJlZm9yZSgkc2VhcmNoQm94LCAkaHIpO1xuICAgICAgJGxpc3RXcmFwcGVyLmZpbmQoJ3VsJykuYXBwZW5kKHRoaXMuJGxpc3RDb250ZW50KTtcblxuICAgICAgJGNvbnRhaW5lci5hcHBlbmQodGhpcy4kdHJpZ2dlciwgJGxpc3RXcmFwcGVyKVxuXG4gICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICog57uR5a6a5LqL5Lu2XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgU2VsZWN0b3JcbiAgICAgKi9cbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIOaUtue8qS/lsZXlvIAg5oyJ6ZKuXG4gICAgICB0aGlzLiR0cmlnZ2VyLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBzZWxmLiR2aWV3LnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG5cbiAgICAgICAgaWYgKHNlbGYuJHZpZXcuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgICAgIHNlbGYuJHNlYXJjaElucHV0LmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi4kc2VhcmNoSW5wdXQudmFsKCcnKTtcbiAgICAgICAgICBzZWxmLmRhdGEgPSBzZWxmLm9yaWdpbmFsRGF0YTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIOepuueZveWkhOeCueWHu+aUtue8qeWIl+ihqFxuICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHNlbGYuJHZpZXcuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgICAgIHNlbGYuJHZpZXcucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICBzZWxmLiRzZWFyY2hJbnB1dC52YWwoJycpO1xuICAgICAgICAgIHNlbGYuc2V0RGF0YShzZWxmLmdldE9yaWdpbmFsRGF0YSgpKTtcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8g6YCJ5oup6aG554K55Ye7XG4gICAgICB0aGlzLiR2aWV3Lm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXRWYWx1ZSgkKHRoaXMpLmRhdGEoJ3ZhbHVlJykpO1xuICAgICAgICBzZWxmLiR2aWV3LnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4gICAgICB9KVxuXG4gICAgICAvLyDovpPlhaXmkJzntKLlhbPplK7lrZdcbiAgICAgIHRoaXMuJHNlYXJjaElucHV0Lm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLnZhbCgpLnRyaW0oKTtcblxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgc2VsZi5zZXREYXRhKHNlbGYuZ2V0T3JpZ2luYWxEYXRhKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBzZWxmLmdldE9yaWdpbmFsRGF0YSgpLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlLnN0YXJ0c1dpdGgodmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLnNldERhdGEobmV3RGF0YSk7XG4gICAgICB9KVxuXG4gICAgICB0aGlzLiRzZWFyY2hJbnB1dC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgfVxuICAgXG4gIH1cblxuICAkLmZuLnNlbGVjdG9yID0gU2VsZWN0b3IualF1ZXJ5SW50ZXJmYWNlXG4gIHJldHVybiBTZWxlY3Rvcjtcbn0pKCQpO1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBdkdBO0FBQUE7QUFDQTtBQUNBO0FBMEhBOzs7OztBQTVIQTtBQWtJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBeEpBO0FBQUE7QUFBQTtBQWlLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFyS0E7QUFBQTtBQUFBO0FBMktBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQXhNQTtBQUFBO0FBQUE7QUErTUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBek9BO0FBQUE7QUFBQTtBQStPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExU0E7QUFBQTtBQUFBO0FBZ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExSEE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQTZTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n")}])});