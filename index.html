<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Selector test</title>
  <link href="https://cdn.bootcss.com/normalize/8.0.0/normalize.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
<link href="dist/style.css" rel="stylesheet"><script type="text/javascript" src="dist/selector.min.js"></script></head>
<body>
  <h2>源节点为 select 元素</h2>
  <h3>插件生效前</h3>
  <pre>
    <code>
      <select>
        <option value="male">male</option>
        <option value="female">female</option>
      </select>
    </code>
  </pre>
  <h3>插件生效后</h3>
  <section class="preview">
    <select id="select1">
      <option value="male">male</option>
      <option value="female">female</option>
    </select>
  </section>

  <h2>源节点为 input 元素</h2>
  <h3>插件生效前</h3>
  <pre>
    <code>
      <input type="text" value="orange">
    </code>
  </pre>
  <h3>插件生效后</h3>
  <section class="preview">
    <input type="text" value="orange" id="input1">
  </section>

  <h2>源节点为 select 元素且指定数据源</h2>
  <h3>插件生效前</h3>
  <pre>
    <code>
      <select>
        <option value="male">male</option>
        <option value="female">female</option>
      </select>
    </code>
  </pre>
  <h3>插件生效后</h3>
  <section class="preview">
    <select id="select2">
      <option value="male">male</option>
      <option value="female">female</option>
    </select>
  </section>

  <h2>异步加载数据 页面加载5秒后显示内容</h2>
  <h3>插件生效前</h3>
  <pre>
    <code>
      <select>
      </select>
    </code>
  </pre>
  <h3>插件生效后</h3>
  <section class="preview">
    <select id="select3">
    </select>
  </section>
  
  <script>
    $(function() {
      console.log(window);

      $('#select1').selector();

      $('#input1').selector({
        data: [{
          title: 'Apple',
          value: 'apple'
        }, {
          title: 'Orange',
          value: 'orange',
        }, {
          title: 'Banana',
          value: 'banana',
          disabled: true
        }, {
          title: 'Watermelon',
          value: 'watermelon'
        }, {
          title: 'Grapes',
          value: 'grapes',
        }, {
          title: 'Pear',
          value: 'pear',
        }]
      });

      $('#select2').selector({
        width: 300,
        data: [{
          title: 'Apple',
          value: 'apple'
        }, {
          title: 'Orange',
          value: 'orange',
        }, {
          title: 'Banana',
          value: 'banana',
          disabled: true
        }, {
          title: 'Watermelon',
          value: 'watermelon'
        }, {
          title: 'Grapes',
          value: 'grapes',
        }, {
          title: 'Pear',
          value: 'pear',
        }]
      });

      const $selector3 = $('#select3').selector({
        width: 300,
      });

      setTimeout(() => {
        $selector3[0].setData([{
          title: 'Apple',
          value: 'apple'
        }, {
          title: 'Orange',
          value: 'orange',
          disabled: true
        }, {
          title: 'Banana',
          value: 'banana',
        }]);
      }, 5000);


      $('#app').selector({
        width: 200,
        data: [{
          title: 'Apple',
          value: 'apple'
        }, {
          title: 'Orange',
          value: 'orange',
          disabled: true
        }, {
          title: 'Banana',
          value: 'banana',
        }, {
          title: 'Watermelon',
          value: 'watermelon'
        }, {
          title: 'Grapes',
          value: 'grapes',
        }, {
          title: 'Pear',
          value: 'pear',
        }]
      })

      const $input = $('#input').selector();

      setTimeout(() => {
        $input[0].setOriginalData([{
          title: 'Apple',
          value: 'apple'
        }, {
          title: 'Orange',
          value: 'orange',
          disabled: true
        }, {
          title: 'Banana',
          value: 'banana',
        }]);
      }, 1000);

      $('#query').click(function() {
        console.log($('#app').val())
      })
    });
  </script>
</body>
</html>